CREATE OR REPLACE PROCEDURE CHK_SAL
(P_JOB EMP.JOB_ID%TYPE ,P_SAL EMP.SALARY%TYPE)
IS
	V_MINSAL EMP.SALARY%TYPE;
	V_MAXSAL EMP.SALARY%TYPE;
BEGIN
	SELECT MIN_SALARY, MAX_SALARY 
	INTO V_MINSAL , V_MAXSAL
	FROM JOBS
	WHERE JOB_ID =  P_JOB;
	
	IF NVL(P_SAL,0) NOT BETWEEN V_MINSAL AND V_MAXSAL THEN
		RAISE_APPLICATION_ERROR(-20001,'SALARY MUST BE BETWEEN' || V_MINSAL || ' AND ' || V_MAXSAL);
	END IF;
	EXCEPTION 
		WHEN NO_DATA_FOUND THEN
			RAISE_APPLICATION_ERROR(-20002,'NO SUCH JOB EXISTS IN EMP TABLE');
END;
/