-- CURSOR WORKS LIKE MULTI DIMENTIONAL CONSTANT MEMORY STRUCTURE.
DECLARE
	V_SAL MPSEMP.SAL%TYPE;  -- UNINITIALIZED DYNAMIC DECLARATION OF SCALAR VARIABLE
	V_ENAME MPSEMP.ENAME%TYPE;
--	STEP 1. DECLARE
	CURSOR EMP_CURSOR IS
		SELECT ENAME , SAL FROM MPSEMP WHERE DEPTNO > 10;

	NOTFOUND_STATUS VARCHAR2(5); -- UNINITIALIZED STATIC DECLARATION OF SCALAR VARIABLE
	TOTCOUNT NUMBER;
BEGIN
--  STEP 2. OPEN CURSOR
	OPEN EMP_CURSOR;
	LOOP
--	STEP 3. FETCH/READ SINGLE ROW AT A TIME
		FETCH EMP_CURSOR INTO V_ENAME , V_SAL;
			EXIT WHEN /* EMP_CURSOR%ROWCOUNT > 2 OR */
			EMP_CURSOR%NOTFOUND;  -- OR EMP_CURSOR%ROWCOUNT = TOTCOUNT;
				DBMS_OUTPUT.PUT_LINE(TO_CHAR(EMP_CURSOR%ROWCOUNT)|| '  ' || 
				                     RPAD(INITCAP(V_ENAME),15)  || '  ' || 
									 LPAD(NVL(TRIM(TO_CHAR(V_SAL,'L9,999.00')),'NA'),15));
	END LOOP;
--	STEP 4. CLOSE CURSOR WHEN DONE.	
	CLOSE EMP_CURSOR;
END;
/	