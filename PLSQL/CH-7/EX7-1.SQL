CREATE PROCEDURE SALARY_INCREMENT 
(MGR IN EMPLOYEES.MANAGER_ID%TYPE, INCREMENT_AMOUNT NUMBER) 
IS 
	PRAGMA AUTONOMOUS_TRANSACTION;
	V_COUNT NUMBER DEFAULT 0;
BEGIN
	SELECT COUNT(*) INTO V_COUNT FROM EMPLOYEES WHERE MANAGER_ID = MGR;
	IF V_COUNT = 0 THEN
		RAISE_APPLICATION_ERROR(-20457,'SUPPLIED MANAGER_ID MAY NOT EXIST IN TABLE');
	END IF;
	
	UPDATE EMPLOYEES
	SET SALARY = SALARY + INCREMENT_AMOUNT
	WHERE MANAGER_ID = MGR;
	
	--COMMIT;
END;
/
/*
WRITE A PROCEDURE, WHICH WILL ACCEPT MGR AND INCREMENT AMOUNT. UPDATE SALARY BY
ADDING INCREMENT AMOUNT TO IT, FOR THOSE EMPLOYEES WHO REPORTS TO GIVEN MGR.
THE CHANGES DONE USING PROCEDURE SHOULD SAVE THE CHANGE PERMANTLY, BUT IT SHOULD
NOT AFFECT ANY OTHER SIMULTANEOUS TRANSACTION.
*/