CREATE OR REPLACE PROCEDURE P2_2
(DEPT_ID IN EMPLOYEES.DEPARTMENT_ID%TYPE)
IS
	FNAME EMPLOYEES.FIRST_NAME%TYPE;
	SAL EMPLOYEES.SALARY%TYPE;
BEGIN
	SELECT FIRST_NAME, SALARY INTO FNAME, SAL FROM EMPLOYEES WHERE DEPARTMENT_ID = DEPT_ID;
	DBMS_OUTPUT.PUT_LINE('FIRST_NAME : '||FNAME);
	DBMS_OUTPUT.PUT_LINE('SALARY : '||SAL);
EXCEPTION
	WHEN NO_DATA_FOUND THEN
		DBMS_OUTPUT.PUT_LINE('NO_DATA_FOUND HANDLE BY P2');
	WHEN TOO_MANY_ROWS THEN
		RAISE_APPLICATION_ERROR(-20001,'MULTIPLE EMPLOYEES FOUND');
	WHEN OTHERS THEN
		DBMS_OUTPUT.PUT_LINE('ERROR HANDLE BY P2 OTHERS BLOCK');
END;
/
	
/*
IF MULTIPLE EMPLOYEES FOUND, OTHERS SHOULD HANDLE IT. USE RAISE_APPLICATION_ERROR
TO DISPLAY ERROR MESSAGE.*/